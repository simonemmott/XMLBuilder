# XMLBuilder
XMLBuilder is a light weight utility for building well formed xml documents with with minimum of java code.
It supports namespaces for the distinction of similarly named elements and the API is designd to mimic the
sructure of the reulstant xml document.

### License

[Apache License Version 2.0](http://www.apache.org/licenses/LICENSE-2.0)

## Basic Example

XMLBuilder makes it easy to quickly produce xml documents.

This code:

```java
XMLBuilder xb = new XMLBuilder();
xb.document("root")
.elem("elm")
    .attr("attr", "value")
    .data("AAAA")
    .up()
.elem("elm")
    .attr("attr", "value2")
    .data("BBBB")
    .up()
.toXml(new PrintWriter(System.out).flush();
```
Produces this xml:
```xml
<?xml version="1.0" encoding="UTF-8"?>
<root>
    <elm attr="value">AAAA</elm>
    <elm attr="value2">BBBB</elm>
</root>
```

## Getting Started

Download a jar file containing the latest version or fork this project and install in your IDE

Maven users can add this project using the following additions to the pom.xml file.
```maven
<dependencies>
    ...
    <dependency>
        <groupId>com.k2</groupId>
        <artifactId>XMLBuilder</artifactId>
        <version>1.0.0-FINAL</version>
    </dependency>
    ...
</dependencies>
```

## Examples

The following are examples of using XMLBuilder to generate various xml documents. Full working examples can be found
in `/src/example/java/`.

### Creating An Xml Document

These example shows how to create xml documents using XMLBuilder

#### Really Simple Example

The following code produces a default xml document.
```java
// Create the XMLBuilder instance
XMLBuilder xb = new XMLBuilder();

// Extract the document from the builder instance setting the tag of the root element to 'root'
XMLDocument doc = xb.document("root");
```
This will produce the following xml:
```xml
<?xml version="1.0" encoding="UTF-8"?>
<root/>
```
**Note** the automatic inclusion of the xml prolog

#### Controlling The Xml Prolog
The xml prolog is included by default in all documents generated by XMLBuilder. This can optionally be ommitted
as follows:
```java
XMLBuilder xb = new XMLBuilder().includeProlog(false);
```
**Note** the includeProlog(...) method returns the adjusted XMLBuilder instance. This allows method chaining
and is typically the case with all methods in the XMLBuilder API.

XMLBuilder allows control over the parameters in the xml prolog as follows:
```java
XMLBuilder xb = new XMLBuilder();
xb.document("root")
.setVersion("0.9")
.setEncoding("ISO 8859-1");
```
Which produces the following xml
```xml
<?xml version="0.9" encoding="ISO 8859-1"?>
<root/>
```

#### Formatting The Indent
By default XMLBuilder uses a tab `'\t'` character as the indent. This can be overridden as follows:
```java
XMLBuilder xb = new XMLBuilder().setIndent("  ");
```
Which uses two space characters `'  '` as the indent.

### Adding Contents To An Xml Document

Xml documents are a hierarchy of nodes. Documents produced by XMLBuilder mirror this structure and provide simple
methods to add and remove nodes from the hierarchy. Nodes that define the structure of the document are elements
while nodes that define the data within that structure are data or cData nodes.

Elements have attributes and may contain other nodes while data and cData nodes do not.  The document root is
a special element with methods to control the xml prolog as above. Element nodes produced by XMLBuilder have methods 
to set attributes and add child elements.

#### Setting Attributes On The Document Root
The following example shows how to set attributes on the document root:
```java
XMLBuilder xb = new XMLBuilder();
xb.document("root")
.attribute("root-attr", "root-value");
```
Which produces the following xml:
```xml
<?xml version="1.0" encoding="UTF-8"?>
<root root-attr="root-value"/>
```

#### Setting Atributes On Elements
The following example shows adding multiple attributes to a single element:
```java
XMLBuilder xb = new XMLBuilder();
xb.document("root")
.element("child-elm")
	.attribute("attr1", "Added by attribute(...)")
	.attr("attr2", "Added by attr(...)")
	.a("attr3", "Added by a(...)")
	.up()
.element("child-elm")
	.attr("duplicate", "false")
	.attr("duplicate", "true");
	.up()
```
Which produces the follwing xml:
```xml
<?xml version="1.0" encoding="UTF-8"?>
<root>
	<child-elm attr2="Added by attr(...)" attr1="Added by attribute(...)" attr3="Added by a(...)"/>
	<child-elm duplicate="true"/>
</root>
```
**Note** For brevity there are multiple names for the attribute(...) method

**Note** If multiple attibutes with the same name are added the last one takes precedence.








































